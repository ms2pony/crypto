#include <immintrin.h>
#include <stdio.h>
int mul_avx2(__m256i E_F[5], __m256i A_B[5], __m256i C_D[5]);
void test_mul_avx2()
{
    __m256i A_B[5];
    __m256i C_D[5];
    __m256i E_F[5] = {0};

    //初始化A_B, C_D
    A_B[0] = _mm256_set_epi64x(51423524, 56030310, 11397043, 15645338);
    A_B[1] = _mm256_set_epi64x(25976630, 62398102, 48583030, 45096011);
    A_B[2] = _mm256_set_epi64x(29954667, 51347875, 19015266, 26780030);
    A_B[3] = _mm256_set_epi64x(39376672, 54947324, 27671603, 5688755);
    A_B[4] = _mm256_set_epi64x(16914210, 2041311, 12582839, 214373);

    C_D[0] = _mm256_set_epi64x(24198817, 61994887, 26788201, 35879724);
    C_D[1] = _mm256_set_epi64x(10215065, 930661, 24411185, 48789969);
    C_D[2] = _mm256_set_epi64x(12818618, 17935313, 16939434, 20757944);
    C_D[3] = _mm256_set_epi64x(28815027, 8017293, 43993867, 64360620);
    C_D[4] = _mm256_set_epi64x(45174287, 911207, 27684150, 3961645);

    mul_avx2(E_F, A_B, C_D);

    printf("E=[%lld,%lld,%lld,%lld,%lld,%lld,%lld,%lld,%lld,%lld]\n", E_F[0][0], E_F[0][1], E_F[1][0], E_F[1][1], E_F[2][0], E_F[2][1], E_F[3][0], E_F[3][1], E_F[4][0], E_F[4][1]);
    printf("F=[%lld,%lld,%lld,%lld,%lld,%lld,%lld,%lld,%lld,%lld]\n", E_F[0][2], E_F[0][3], E_F[1][2], E_F[1][3], E_F[2][2], E_F[2][3], E_F[3][2], E_F[3][3], E_F[4][2], E_F[4][3]);
}

int main()
{
    test_mul_avx2();
}